<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" media="all" type="text/css" href="{{ url_for('static',filename='css/styles.css') }}">
    <title>New Loan</title>
</head>
<body>
    <nav>
        <div class="navbar-title">
            <p>P I N E C O N E</p>
        </div>
        <ul>
            <li><a href="{{ url_for('index') }}">Loaned Items</a></li>
            <li><a href="{{ url_for('borrowedItems') }}">Borrowed Items</a></li>
        </ul>
        <div class="profile-section">
            {% if current_user.is_authenticated %}
                <a href="{{ url_for('profile', user_id=current_user.id) }}">
                    <span class="profile-name">{{ current_user.first_name }} {{ current_user.last_name }}</span>
                    <div class="profile-picture">
                        <img src="{{ url_for('static', filename='images/profile.png') }}" alt="Profile Picture">
                    </div>
                    <a href="{{ url_for('logout') }}" class="logout-button">Logout</a>
                </a>
            {% else %}
                <a href="{{ url_for('login') }}">Login</a> | <a href="{{ url_for('register') }}">Register</a>
            {% endif %}
        </div>
    </nav>

    <h1>New Loan</h1>
    <form id="supplyForm">
        <label for="item">Item:</label>
        <div class="dropdown-container">
            <input type="text" id="item-search" class="dropdown-input" placeholder="Search items..." oninput="debouncedItemFetch()" />
            <div id="item-options" class="dropdown-options"></div>
        </div>

        <label for="borrower">Borrower:</label>
        <div class="dropdown-container">
            <input type="text" id="borrower-search" class="dropdown-input" placeholder="Search borrowers..." oninput="debouncedBorrowerFetch()" />
            <div id="borrower-options" class="dropdown-options"></div>
        </div>

        <label for="count">Count:</label>
        <input type="number" id="count" name="Count" min="1" required>

        <label for="date">Checkout Date:</label>
        <input type="datetime-local" id="date" name="Date" required>

        <label for="initials">Borrower's Initials:</label>
        <input type="text" id="initials" name="Initials" required>

        <button type="button" onclick="submitForm()">Loan Item</button>
    </form>

    <p id="responseMessage"></p>

</body>
<script src="{{ url_for('static', filename='js/newBorrow.js') }}"></script>
</html>
